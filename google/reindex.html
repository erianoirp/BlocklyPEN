<!DOCTYPE html>
<html>
<head>
 	<meta charset="utf-8">
	<title>zakopage</title>
	<link rel="stylesheet" href="style.css">
	<!--
	<script src="google/blockly/appengine/storage.js"></script>
	<script src="google/blockly/blockly_compressed.js"></script>
    <script src="google/blockly/blocks_compressed.js"></script>
	<script src="google/blockly/javascript_compressed.js"></script>
	<script src="google/blockly/python_compressed.js"></script>
	<script src="google/blockly/php_compressed.js"></script>
	<script src="google/blockly/lua_compressed.js"></script>
	<script src="google/blockly/dart_compressed.js"></script>
	<script src="google/blockly/demos/code/code.js"></script>
	-->
    <style>
    	html, body {height: 100%; margin: 0;}
    	table {height: 100%; width: 100%;}
    	#blocklyArea {height: 100%; background: #888888; text-align: center;}
  	</style>
  	

  <!--本体モジュール-->
  <script src="blockly/blockly_compressed.js"></script>
  <!--Blockモジュール-->
  <script src="blockly/blocks_compressed.js"></script>
  <!--Block定義モジュール-->
  <script src="blockly/blocks/logic.js"></script>
  <script src="blockly/blocks/math.js"></script>
  <script src="blockly/blocks/lists.js"></script>
  <!--ソースコードジェネレーターモジュール-->
  <script src="blockly/generators/javascript/logic.js"></script>
  <script src="blockly/generators/javascript/math.js"></script>
  <script src="blockly/generators/javascript/lists.js"></script>
  <!--翻訳-->
  <script src="blockly/msg/js/ja.js"></script>
</head>
<body>

<!--

  <table width="100%" height="100%">
    <tr>
      <td class="farSide">
        <select id="languageMenu"></select>
      </td>
    </tr>
    <tr>
      <td colspan=2>
      
      
      
      
      
        <table width="100%">
          <tr id="tabRow" height="1em">
            <td id="tab_blocks" class="tabon">...</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_javascript" class="taboff">JavaScript</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_python" class="taboff">Python</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_php" class="taboff">PHP</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_lua" class="taboff">Lua</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_dart" class="taboff">Dart</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_xml" class="taboff">XML</td>
            <td class="tabmax">
              <button id="trashButton" class="notext" title="...">
                <img src='blockly/media/1x1.gif' class="trash icon21">
              </button>
              <button id="linkButton" class="notext" title="...">
                <img src='blockly/media/1x1.gif' class="link icon21">
              </button>
              <button id="runButton" class="notext primary" title="...">
                <img src='blockly/media/1x1.gif' class="run icon21">
              </button>
            </td>
          </tr>
        </table>
        
        
        
        
        
      </td>
    </tr>
    <tr>
      <td height="99%" colspan=2 id="content_area">
      </td>
    </tr>
  </table>
  
　-->
  
  <div id="content_blocks" class="content"></div>
  <pre id="content_javascript" class="content"></pre>
  <pre id="content_python" class="content"></pre>
  <pre id="content_php" class="content"></pre>
  <pre id="content_lua" class="content"></pre>
  <pre id="content_dart" class="content"></pre>
  <textarea id="content_xml" class="content" wrap="off"></textarea>

  <!--Blockly埋め込みエリア-->
  <table>
    <tbody>
    <!--<tr><h1>テストのやつ</h1></tr>-->
    <tr><td id="blocklyArea">Workspaceってなんだよ</td></tr>
    </tbody>
  </table>

  <!--Blickly埋め込み位置-->
  <div id="blocklyDiv" style="position: absolute;"></div>
  <!--ツールボックス-->
  <xml id="toolbox" style="display: none">
    <category name="宣言"colour="0" custom="VARIABLE">

    </category>
    <category name="処理"colour="60">
      <block type="controls_if"></block>
    </category>
    <category name="実行"colour="120">

    </category>
    <category name="拡張予定"colour="180">

    </category>
    <category name="仮置き場aaaaaaaaaaa"colour="240">
      <block type="controls_repeat_ext"></block>
      <block type="controls_if_else"></block>
      <block type="logic_compare"></block>
      <block type="math_number"></block>
      <block type="math_arithmetic"></block>
      <block type="text"></block>
      <block type="text_print"></block>
    </category>
    
  </xml>

  <script>
    var blocklyArea = document.getElementById("blocklyArea");
    var blocklyDiv = document.getElementById("blocklyDiv");
    var workspace = Blockly.inject(blocklyDiv,
      {toolbox: document.getElementById('toolbox'),
      grid:
        {spacing: 20,
        length: 3,
        colour: '#ccc',
        snap: true},
      trashcan: true});
    var onResize = function(e) {
      // Compute the absolute coordinates and dimensions of blocklyArea
      var element = blocklyArea;
      var x = 0;
      var y = 0;

      do {
        x += element.offsetLeft;
        y += element.offsetTop;
        element = element.offsetParent;
      } while(element);
      //document.write(element);
      //Position blocklyDiv over blocklyArea
      blocklyDiv.style.left = x + 'px';
      blocklyDiv.style.top = y + 'px';
      blocklyDiv.style.width = blocklyArea.offsetWidth + 'px';
      blocklyDiv.style.height = blocklyArea.offsetHeight + 'px';
    };
    window.addEventListener('resize', onResize, false);
    onResize();
  </script>
</body>
</html>